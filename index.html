<!DOCTYPE html>
<html>

<head>
   <title>Shopping Cart</title>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
   <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" rel="stylesheet" />
   <link href="style.css" rel="stylesheet">
</head>

<body>

   <section>
      <div class="container">
         <div class="cart">
            <div class="col-md-12 col-lg-10 mx-auto">
               <div class="cart-item">
                  <div class="row">
                     <div class="col-md-7 center-item">
                        <img src="images/product-1.png" alt="">
                        <h5>iPhone 11 128GB Black</h5>
                     </div>

                     <div class="col-md-5 center-item">
                        <div class="input-group number-spinner">
                           <button onclick="manageProductChange('phone', false)" id="phoneMinus" class="btn btn-default"><i class="fas fa-minus"></i></button>
                           <input type="text" id="phoneAmount" class="form-control text-center" value="1">
                           <button onclick="manageProductChange('phone', true)" id="phoneAdd" class="btn btn-default"><i class="fas fa-plus"></i></button>
                        </div>
                        <h5>$ <span id="phonePrice">1219</span></h5>
                        <img src="images/remove.png" alt="" class="remove-item">
                     </div>
                  </div>
               </div>

               <div class="cart-item">
                  <div class="row">
                     <div class="col-md-7 center-item mx-auto">
                        <img src="images/product-2.png" alt="">
                        <h5>iPhone 11 Silicone Case - Black</h5>
                     </div>
                     <div class="col-md-5 center-item">
                        <div class="input-group number-spinner">
                           <button onclick="manageProductChange('case', false)" id="caseMinusBtn" class="btn btn-default"><i class="fas fa-minus"></i></button>
                           <input id="caseAmount" type="text" class="form-control text-center" value="1">
                           <button onclick="manageProductChange('case', true)" id="caseAddBtn" class="btn btn-default"><i class="fas fa-plus"></i></button>

                        </div>
                        <h5>$ <span id="casePrice">19</span></h5>
                        <img src="images/remove.png" alt="" class="remove-item">
                     </div>
                  </div>
               </div>

               <div class="cart-item">
                  <div class="row">

                     <div class="col-md-8">
                        <h5>Subtotal: </h5>
                        <h5>Tax:</h5>
                        <h5>Total:</h5>
                     </div>

                     <div class="col-md-4 status">
                        <h5>$ <span id="total-price"> 1,278</span></h5>
                        <h5>$ <span id="tax-count">0</span></h5>
                        <h5>$ <span id="priceWithTax"> 1,278</span></h5>
                     </div>
                  </div>
               </div>
               <div class="col-md-12 pt-4 pb-4">
                  <button type="button" class="btn btn-success check-out">Check Out</button>
               </div>
            </div>
         </div>
      </div>
   </section>

  <!-- Script work start from here -->

  <script>



  //Final Code



      // common code with function
      function manageProductChange(product, isIncrease){
         const productInput = document.getElementById(product+'Amount').value;
         const productCount = parseInt(productInput);
         
         // manage product increase and decrease
         let productNewCount =  productCount; 
         
         if(isIncrease == true ){
            productNewCount = productCount + 1;
         }
         if(isIncrease == false && productCount > 0){
            productNewCount = productCount -1;
         }

         document.getElementById(product+'Amount').value = productNewCount;

         // manage product price calculation
         let productTotal = 0;
         if(product == 'phone'){
            productTotal = productNewCount * 1219;
         }
         if(product == 'case'){
            productTotal = productNewCount * 19;
         }
         // const productTotal = productNewCount * 1219;

         document.getElementById(product+'Price').innerText =  productTotal;

         calculateTotal()
    
  };

  // calculate total price and tax

  function calculateTotal(){
      const phoneTotalPrice = document.getElementById('phonePrice').innerHTML; 
      const phoneTotalPriceCount = parseInt(phoneTotalPrice);

      const caseTotalPrice = document.getElementById('casePrice').innerHTML; 
      const caseTotalPriceCount = parseInt(caseTotalPrice);

      const totalProductPrice = phoneTotalPriceCount + caseTotalPriceCount;
      document.getElementById('total-price').innerText = totalProductPrice;

      const tax = Math.round(totalProductPrice * .1);
      document.getElementById('tax-count').innerText = tax;

      const ultimateTotal = totalProductPrice + tax; 
      document.getElementById('priceWithTax').innerText = ultimateTotal;

      // document.getElementById('tax-count').innerText = Math.round(totalProductPrice * 0.1);





  }
  
//   // Phone  
//   const phoneAddBtn = document.getElementById('phoneAdd');
//     phoneAddBtn.addEventListener('click', function(){
//       manageProductChange('phone', true);
//     });

//   const phoneMinusBtn = document.getElementById('phoneMinus');
//     phoneMinusBtn.addEventListener('click', function(){
//       manageProductChange('phone', false);
//     })

//     // Case
//    const caseAddBtn = document.getElementById('caseAddBtn');
//       caseAddBtn.addEventListener('click', function(){
//          manageProductChange('case', true);

//    })

//    const caseMinusBtn = document.getElementById('caseMinusBtn');
//       caseMinusBtn.addEventListener('click', function(){
//          manageProductChange('case', false);
//    })    


//       // common code for Phone
//       function managePhoneChange(isIncrease){
//          const phoneInput = document.getElementById('phoneAmount').value;
//          const phoneCount = parseInt(phoneInput);
         
//          let phoneNewCount =  phoneCount; 
         
//          if(isIncrease == true ){
//             phoneNewCount = phoneCount + 1;
//          }
//          if(isIncrease == false && phoneCount > 0){
//             phoneNewCount = phoneCount -1;
//          }

//          document.getElementById('phoneAmount').value = phoneNewCount;

//          const phoneTotal = phoneNewCount * 1219;
//          document.getElementById('PhonePrice').innerText =  phoneTotal;
    
//   };
//       // common code for case 

//       function manageCaseChange(isIncrease){
//          const caseAmount = document.getElementById('caseAmount').value;
//          const caseNewAmount = parseInt(caseAmount);

//          let caseUpdateAmount = caseNewAmount;

//          if (isIncrease == true){
//             caseUpdateAmount = caseNewAmount +1;
//          }
//          if (isIncrease == false && caseNewAmount > 0){
//             caseUpdateAmount = caseNewAmount -1;
//          }

//          document.getElementById('caseAmount').value = caseUpdateAmount;

//          const totalCasePrice = caseUpdateAmount * 19;
//          document.getElementById('CasePrice').innerText = totalCasePrice;
//       }


  </script>

  <!-- script end here -->

</body>

</html>